(function(){const S=document.createElement("link").relList;if(S&&S.supports&&S.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))e(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const q of h.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&e(q)}).observe(document,{childList:!0,subtree:!0});function C(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function e(f){if(f.ep)return;f.ep=!0;const h=C(f);fetch(f.href,h)}})();const N=new WebSocket("ws://localhost:49122");N.onopen=()=>{console.log("Connected to SOS. you dumb son of a bitch")};N.addEventListener("message",o=>{const S=o.data;console.log(S)});N.onmessage=o=>{console.log(o.data)};const j={boost:34},te=o=>{const S=document.querySelector("#target-boost-track-fill"),C=S.r.baseVal.value*2*Math.PI;S.style.strokeDasharray=`${C*.75} ${C}`,S.style.strokeDashoffset=(100-o)/100*C*.75},oe=o=>{j.boost=o,console.log("Target player boost set:",j.boost),te(j.boost),document.querySelector("#target-boost-value").innerHTML=`${o}`},ae=(o={blue:0,orange:0})=>{document.querySelector(".team#blue #score").innerHTML=o.blue,document.querySelector(".team#orange #score").innerHTML=o.orange},ne=(o,S)=>{const C=Math.max(Math.floor(o/60),0),e=o%60;return`${S?"+":""}${C}:${e.toString().padStart(2,"0")}`},re=(o,S)=>{document.querySelector(".clock").innerHTML=ne(o,S)},$={name:"name",shots:34,assists:10,saves:3,goals:20,score:200},se=o=>{$.name=o,document.querySelector("#target-statcard-playername").innerHTML=`${$.name}`},U=o=>{$.shots=o,document.querySelector("#target-statcard-shots").innerHTML=`${$.shots}`},le=o=>{$.assists=o,document.querySelector("#target-statcard-assists").innerHTML=`${$.assists}`},ce=o=>{$.saves=o,document.querySelector("#target-statcard-saves").innerHTML=`${$.saves}`},me=o=>{$.goals=o,document.querySelector("#target-statcard-goals").innerHTML=`${$.goals}`},de=o=>{$.score=o,document.querySelector("#target-statcard-score").innerHTML=`${$.score}`},ue=(o={blue:"",orange:""})=>{document.querySelector("#bluenumbers").innerHTML=o.blue.split(",").join("<br/>"),document.querySelector("#orangenumbers").innerHTML=o.orange.split(",").join("<br/>")},ie=(o={blue:"",orange:""})=>{document.querySelector("#bluenames").innerHTML=o.blue.split(",").join("<br/>"),document.querySelector("#orangenames").innerHTML=o.orange.split(",").join("<br/>")},ge=o=>{const S=Math.floor(o/60),e=(o%60).toString().padStart(2,"0");return`${(S%60).toString().padStart(2,"0")}:${e}`};console.log("Starting...");let M,y,B,D=null,J=0,K=0,Q=1,z=[];const ye=2e3,x=new Vimeo.Player("MatchCreatedVideo",{id:1041310123,loop:!0,autoplay:!1,width:1920,height:1080}),G=document.querySelector(".MatchInitialized"),Be=document.querySelector('iframe[title="vimeo-player-1"]'),be=new Vimeo.Player(Be);function Y(){const o=document.getElementById("Series-Text");o.innerHTML=`GAME ${Q} | BEST OF 7`}function Se(){for(let o=1;o<=4;o++){const S=document.getElementById(`blue-win-${o}`),C=document.getElementById(`orange-win-${o}`);S.style.backgroundColor="transparent",C.style.display="transparent"}for(let o=1;o<=J;o++)document.getElementById(`blue-win-${o}`).style.backgroundColor=`#${y}`;for(let o=1;o<=K;o++)document.getElementById(`orange-win-${o}`).style.backgroundColor=`#${B}`}Y();N.addEventListener("message",o=>{const S=o.data;N.onmessage=C=>{console.log(C.data);const e=JSON.parse(S);console.log(e.event);const f=document.getElementById("game-start-flyover"),h=document.getElementById("game-end-hypechamber");document.getElementById("PostGame-bg");const q=document.querySelector(".PostGameData");if(e.event==="game:update_state"&&(M=e.data),e.event==="game:update_state"){let r=function(n,R){R.length>11?n.style.fontSize="25px":n.style.fontSize="33px"},a=function(n){const R=document.getElementById("blue").querySelector("#name"),F=document.getElementById("orange").querySelector("#name");R.innerHTML=n.blue,F.innerHTML=n.orange,r(R,n.blue),r(F,n.orange)};var fe=r,X=a;if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];oe(n.boost),console.log("boost meter on"),document.getElementById("target-player").style.opacity=100}else e.data.game.hasTarget==!1&&(document.getElementById("target-player").style.opacity=0);if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];se(n.name),console.log(n.name)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];U(n.shots)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];le(n.assists)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];ce(n.saves)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];me(n.goals)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];de(n.score)}if(e.data.game.hasTarget){const n=e.data.players[e.data.game.target];U(n.shots)}e.data.game.hasTarget?document.getElementById("statcard").style.opacity=100:e.data.game.hasTarget==!1&&(document.getElementById("statcard").style.opacity=0);const u=0,c=1,i=Object.values(e.data.players).filter(n=>n.team===u),g=[i.map(function(n){return n.name})].join("<br/>"),m=Object.values(e.data.players).filter(n=>n.team===c),b=[m.map(function(n){return n.name})].join(`
`);ie({blue:g,orange:b}),a({blue:e.data.game.teams[0].name,orange:e.data.game.teams[1].name}),ae({blue:e.data.game.teams[0].score,orange:e.data.game.teams[1].score}),re(e.data.game.time_seconds,e.data.game.isOT);const T=[i.map(function(n){return n.boost})].join("<br/>"),t=[m.map(function(n){return n.boost})].join("<br/>");ue({blue:T,orange:t});const s=T.split(",")[0],l=T.split(",")[1],d=T.split(",")[2],p=t.split(",")[0],E=t.split(",")[1],O=t.split(",")[2];document.getElementById("teamLeft-boost-track-fill-1").style.width=s/100*345,document.getElementById("teamLeft-boost-track-fill-2").style.width=l/100*345,document.getElementById("teamLeft-boost-track-fill-3").style.width=d/100*345,document.getElementById("teamRight-boost-track-fill-1").style.width=p/100*345,document.getElementById("teamRight-boost-track-fill-2").style.width=E/100*345,document.getElementById("teamRight-boost-track-fill-3").style.width=O/100*345;const v=e.data.game.teams.map(function(n){return n.color_primary}),k=v[0],P=v[1],L=e.data.players[e.data.game.target],H=(L==null?void 0:L.team)==0?k:P,Z=document.querySelector("#target-boost-track-fill");Z.style.stroke=`${"#"+H}`;const ee=document.querySelector("#target-statcard-bg");ee.style.borderColor=`${"#"+H}`;const W=document.getElementById("ScoreCard-Container");e.data.game.isReplay?W.style.opacity=1:W.style.opacity=0;const V=document.getElementById("overtime-logo");e.data.game.isOT?V.style.opacity=1:V.style.opacity=0}if(e.event==="game:update_state"){const u=e.data.game.teams,c=u[0],i=u[1];y=c.color_primary,B=i.color_primary,document.getElementById("blue-win-1").style.borderColor=`#${y}`,document.getElementById("blue-win-2").style.borderColor=`#${y}`,document.getElementById("blue-win-3").style.borderColor=`#${y}`,document.getElementById("blue-win-4").style.borderColor=`#${y}`,document.getElementById("orange-win-1").style.borderColor=`#${B}`,document.getElementById("orange-win-2").style.borderColor=`#${B}`,document.getElementById("orange-win-3").style.borderColor=`#${B}`,document.getElementById("orange-win-4").style.borderColor=`#${B}`}if(e.event==="game:pre_countdown_begin"&&(G.style.opacity=0,x.pause()),e.event==="game:round_started_go"&&x.setCurrentTime(0),e.event==="game:match_created"&&(x.play(),G.style.opacity=1),e.event==="game:goal_scored"){console.log(e.data);const u=document.getElementById("replay-text");u.innerHTML="REPLAY";const c=e.data.scorer.teamnum;console.log(c);const i=e.data.scorer.name;console.log(i);const g=document.getElementById("Scorer");g.innerHTML=`${i}`;const m=e.data.assister.name,b=document.getElementById("Assister");b.innerHTML=`${m}`;const r=Math.trunc(e.data.goalspeed/1.609),a=document.getElementById("BallSpeed");a.innerHTML=`${r}     MPH`;const T=e.data.goaltime,t=document.getElementById("GoalTime"),s=`${T}`;t.innerHTML=ge(s);const l=document.getElementById("scorecard-bg");c===0?(l.style.backgroundColor=`#${y}`,l.style.boxShadow=`0px 25px 100px 100px #${y}`):(l.style.backgroundColor=`#${B}`,l.style.boxShadow=`0px 25px 100px 100px #${B}`),m===""?document.getElementById("AssisterImage").style.opacity=0:document.getElementById("AssisterImage").style.opacity=1}const _=document.getElementById("replay-swipe");if(e.event==="game:replay_start"&&(console.log("Replay started"),_.style.opacity=1,_.style.transition="opacity 0s",setTimeout(()=>{_.style.opacity=0,_.style.transition="opacity 1s"},1e3)),e.event==="game:match_ended"){const u=e.data.winner_team_num;u===0?J++:u===1&&K++,Q++,Se(),Y()}if(e.event==="game:statfeed_event"){console.log(e.data);const u=e.data.type,c=e.data.main_target,i=e.data.secondary_target,g=c?c.name:"Unknown",m=i?i.name:"Unknown",b=c?c.team_num:-1,r=i?i.team_num:-1,a=document.createElement("div");a.className="statfeed-event";const T=document.createElement("div");T.className="statfeed-icon-container";const t=document.createElement("img");t.className="statfeed-icon",t.src=`./Overlay_images./${u}.png`,T.appendChild(t);const s=document.createElement("div");s.className="statfeed-text-container";const l=document.createElement("div");l.className="statfeed-primary-name",l.textContent=g;const d=document.createElement("div");d.className="statfeed-secondary-name-container";const p=document.createElement("div");if(p.className="statfeed-secondary-name",p.textContent=m,d.appendChild(p),s.appendChild(l),s.appendChild(d),a.appendChild(t),a.appendChild(s),document.getElementById("statfeed-container").appendChild(a),b===0?a.style.backgroundColor=`#${y}`:b===1&&(a.style.backgroundColor=`#${B}`),r===0?p.style.backgroundColor=`#${y}`:r===1&&(p.style.backgroundColor=`#${B}`),setTimeout(()=>{a.style.animation="fadeIn 0.5s forwards"},0),setTimeout(()=>{a.style.animation="fadeOut 0.5s forwards",setTimeout(()=>{a.style.display="none",document.getElementById("statfeed-container").removeChild(a)},500)},ye),z.push(a),z.length>3){const E=z.shift();E.style.display="none",document.getElementById("statfeed-container").removeChild(E)}}if(e.event==="game:update_state"){const u={BlueBoost1:document.querySelector("#teamLeft-boost-track-fill-1"),BlueBoost2:document.querySelector("#teamLeft-boost-track-fill-2"),BlueBoost3:document.querySelector("#teamLeft-boost-track-fill-3")},c={BlueBorder1:document.querySelector("#teamLeft-boost-bg-1"),BlueBorder2:document.querySelector("#teamLeft-boost-bg-2"),BlueBorder3:document.querySelector("#teamLeft-boost-bg-3")},i={OrangeBoost1:document.querySelector("#teamRight-boost-track-fill-1"),OrangeBoost2:document.querySelector("#teamRight-boost-track-fill-2"),OrangeBoost3:document.querySelector("#teamRight-boost-track-fill-3")},g={OrangeBorder1:document.querySelector("#teamRight-boost-bg-1"),OrangeBorder2:document.querySelector("#teamRight-boost-bg-2"),OrangeBorder3:document.querySelector("#teamRight-boost-bg-3")};document.querySelector(".team#blue #score-bg").style.background=`#${y}`,document.querySelector(".team#orange #score-bg").style.background=`#${B}`,document.querySelector(".team#blue").style.borderColor=`#${y}`,document.querySelector(".team#orange").style.borderColor=`#${B}`,document.getElementById("BlueScore").style.backgroundColor=`#${y}`,document.getElementById("OrangeScore").style.backgroundColor=`#${B}`,document.querySelector("#BlueTeamName").style.borderColor=`#${y}`,document.querySelector("#OrangeTeamName").style.borderColor=`#${B}`,document.querySelector("#BluePlayerNames").style.borderColor=`#${y}`,document.querySelector("#OrangePlayerNames").style.borderColor=`#${B}`,document.querySelector(".StatBar-Blue").style.borderColor=`#${y}`,document.querySelector(".StatBar-Orange").style.borderColor=`#${B}`,document.querySelector(".BlueTeam .PlayerStats").style.borderColor=`#${y}`,document.querySelector(".OrangeTeam .PlayerStats").style.borderColor=`#${B}`;const m={BlueGoalsBar:document.querySelector("#BlueGoalsBar"),BlueAssistsBar:document.querySelector("#BlueAssistsBar"),BlueSavesBar:document.querySelector("#BlueSavesBar"),BlueShotsBar:document.querySelector("#BlueShotsBar"),BlueDemosBar:document.querySelector("#BlueDemosBar"),BlueScoreBar:document.querySelector("#BlueScoreBar")},b={OrangeGoalsBar:document.querySelector("#OrangeGoalsBar"),OrangeAssistsBar:document.querySelector("#OrangeAssistsBar"),OrangeSavesBar:document.querySelector("#OrangeSavesBar"),OrangeShotsBar:document.querySelector("#OrangeShotsBar"),OrangeScoreBar:document.querySelector("#OrangeScoreBar")};for(let r in m)m[r]&&(m[r].style.backgroundColor=`#${y}`);for(let r in b)b[r]&&(b[r].style.backgroundColor=`#${B}`);for(let r in u)u[r]&&(u[r].style.fill=`#${y}`);for(let r in c)c[r]&&(c[r].style.borderColor=`#${y}`);for(let r in i)i[r]&&(i[r].style.fill=`#${B}`);for(let r in g)g[r]&&(g[r].style.borderColor=`#${B}`)}if(e.event==="game:match_created"){let c=function(i){Object.values(u).forEach(g=>{g&&(g.style.opacity=i)})};var A=c;console.log("Match created"),q.style.opacity=0;const u={scorebug:document.querySelector(".scorebug"),teamLeftMeters:document.querySelector(".TeamLeftBoostMeters"),teamRightMeters:document.querySelector(".TeamRightBoostMeters"),blueTeamName:document.querySelector("#blue-team-name"),orangeTeamName:document.querySelector("#orange-team-name"),overtimeLogo:document.querySelector("#overtime-logo"),SeriesText:document.getElementById("Series-Container-bg"),SeriesBlue1:document.getElementById("blue-win-1"),SeriesBlue2:document.getElementById("blue-win-2"),SeriesBlue3:document.getElementById("blue-win-3"),SeriesBlue4:document.getElementById("blue-win-4"),SeriesOrange1:document.getElementById("orange-wins-1"),SeriesOrange2:document.getElementById("orange-wins-2"),SeriesOrange3:document.getElementById("orange-wins-3"),SeriesOrange4:document.getElementById("orange-wins-4")};c(0)}if(e.event==="game:pre_countdown_begin"){let c=function(g){Object.values(u).forEach(m=>{m&&(m.style.opacity=g)})};var A=c;const u={scorebug:document.querySelector(".scorebug"),teamLeftMeters:document.querySelector(".TeamLeftBoostMeters"),teamRightMeters:document.querySelector(".TeamRightBoostMeters"),blueTeamName:document.querySelector("#blue-team-name"),orangeTeamName:document.querySelector("#orange-team-name"),SeriesText:document.getElementById("Series-Container-bg"),SeriesBlue1:document.getElementById("blue-win-1"),SeriesBlue2:document.getElementById("blue-win-2"),SeriesBlue3:document.getElementById("blue-win-3"),SeriesBlue4:document.getElementById("blue-win-4"),SeriesOrange1:document.getElementById("orange-wins-1"),SeriesOrange2:document.getElementById("orange-wins-2"),SeriesOrange3:document.getElementById("orange-wins-3"),SeriesOrange4:document.getElementById("orange-wins-4")};c(1),f.style.opacity=0}e.event==="game:round_started_go"&&(f.currentTime=0,h.currentTime=0,x.setCurrentTime(0));const w="373d4a";if(e.event==="game:update_state"){const g=[Object.values(e.data.players).filter(a=>a.team===0).map(function(a){return a.name})].join("<br/>"),b=[Object.values(e.data.players).filter(a=>a.team===1).map(function(a){return a.name})].join(`
`),r=e.data.players[e.data.game.target];if(e.data.game.hasTarget,r){const a=r.name,T=g.split(",")[0],t=g.split(",")[1],s=g.split(",")[2],l=b.split(",")[0],d=b.split(",")[1],p=b.split(",")[2],E=document.getElementById("teamLeft-boost-bg-1"),O=document.getElementById("teamLeft-boost-bg-2"),I=document.getElementById("teamLeft-boost-bg-3"),v=document.getElementById("teamRight-boost-bg-1"),k=document.getElementById("teamRight-boost-bg-2"),P=document.getElementById("teamRight-boost-bg-3"),L=[T,t,s].includes(a),H=[l,d,p].includes(a);D&&D.team!==r.team&&(E.style.backgroundColor="#373d4a",O.style.backgroundColor="#373d4a",I.style.backgroundColor="#373d4a",v.style.backgroundColor="#373d4a",k.style.backgroundColor="#373d4a",P.style.backgroundColor="#373d4a"),L?(console.log(`Spectated player is on the Blue team: ${a}`),a===T?E.style.backgroundColor=`#${y}`:E.style.backgroundColor="#373d4a",a===t?O.style.backgroundColor=`#${y}`:O.style.backgroundColor="#373d4a",a===s?I.style.backgroundColor=`#${y}`:I.style.backgroundColor="#373d4a"):H&&(console.log(`Spectated player is on the Orange team: ${a}`),a===l?v.style.backgroundColor=`#${B}`:v.style.backgroundColor="#373d4a",a===d?k.style.backgroundColor=`#${B}`:k.style.backgroundColor="#373d4a",a===p?P.style.backgroundColor=`#${B}`:P.style.backgroundColor="#373d4a"),D=r}if(e.data.game.target===""){const a=document.getElementById("teamLeft-boost-bg-1"),T=document.getElementById("teamLeft-boost-bg-2"),t=document.getElementById("teamLeft-boost-bg-3"),s=document.getElementById("teamRight-boost-bg-1"),l=document.getElementById("teamRight-boost-bg-2"),d=document.getElementById("teamRight-boost-bg-3");a.style.backgroundColor=`#${w}`,T.style.backgroundColor=`#${w}`,t.style.backgroundColor=`#${w}`,s.style.backgroundColor=`#${w}`,l.style.backgroundColor=`#${w}`,d.style.backgroundColor=`#${w}`,D=null;return}}if(e.event==="game:podium_start"){let c=function(t,s){t.style.fontSize=s.length>11?"68px":"80px"},i=function(t,s){t.style.fontSize=s.length>8?"40px":"50px"},g=function(t){const s=document.querySelector(".BlueTeam .TeamName"),l=document.querySelector(".OrangeTeam .TeamName");s.innerHTML=t[0].name,l.innerHTML=t[1].name,c(s,t[0].name),c(l,t[1].name);const d=document.querySelector(".BlueTeam .Score"),p=document.querySelector(".OrangeTeam .Score");d.innerHTML=t[0].score,p.innerHTML=t[1].score},r=function(){function t(p,E){return p.reduce((O,I)=>O+(I[E]||0),0)}const s={goals:t(m,"goals"),assists:t(m,"assists"),saves:t(m,"saves"),shots:t(m,"shots"),demos:t(m,"demos"),score:t(m,"score")},l={goals:t(b,"goals"),assists:t(b,"assists"),saves:t(b,"saves"),shots:t(b,"shots"),demos:t(b,"demos"),score:t(b,"score")};function d(p,E,O){const I=E+O,v=I>0?E/I*100:0,k=I>0?O/I*100:0,P=document.getElementById(`Blue${p}Bar`),L=document.getElementById(`Orange${p}Bar`);P.style.width=`${v}%`,L.style.width=`${k}%`}d("Goals",s.goals,l.goals),d("Assists",s.assists,l.assists),d("Saves",s.saves,l.saves),d("Shots",s.shots,l.shots),d("Demos",s.demos,l.demos),d("Score",s.score,l.score)},a=function(){m.forEach((t,s)=>{const l=document.querySelector(`.BlueTeam .Players .Player:nth-child(${s+1})`);l.innerHTML=t.name,i(l,t.name);const d=document.querySelector(`.BlueTeam .PlayerStats .PlayerStat:nth-child(${s+1})`);d.innerHTML=`
            ${t.goals}<br>
            ${t.assists}<br>
            ${t.saves}<br>
            ${t.shots}<br>
            ${t.demos}<br>
            ${t.score}
          `}),b.forEach((t,s)=>{const l=document.querySelector(`.OrangeTeam .Players .Player:nth-child(${s+1})`);l.innerHTML=t.name,i(l,t.name);const d=document.querySelector(`.OrangeTeam .PlayerStats .PlayerStat:nth-child(${s+1})`);d.innerHTML=`
            ${t.goals}<br>
            ${t.assists}<br>
            ${t.saves}<br>
            ${t.shots}<br>
            ${t.demos}<br>
            ${t.score}
          `}),r()};var pe=c,he=i,X=g,Te=r,Ee=a;console.log("Podium Started"),console.log(M),be.play();const u=document.querySelector(".PostGameData");u.style.opacity=1,g(M.game.teams);const m=Object.values(M.players).filter(t=>t.team===0),b=Object.values(M.players).filter(t=>t.team===1);a()}if(e.event==="game:match_destroyed"&&(q.style.opacity=0),e.event==="game:initialized"){let c=function(g){Object.values(u).forEach(m=>{m&&(m.style.opacity=g)})};var A=c;console.log("Match initialized"),q.style.opacity=0,G.style.opacity=1,x.play(),h.style.opacity=0;const u={scorebug:document.querySelector(".scorebug"),teamLeftMeters:document.querySelector(".TeamLeftBoostMeters"),teamRightMeters:document.querySelector(".TeamRightBoostMeters"),blueTeamName:document.querySelector("#blue-team-name"),orangeTeamName:document.querySelector("#orange-team-name"),overtimeLogo:document.querySelector("#overtime-logo"),SeriesText:document.getElementById("Series-Container-bg"),SeriesBlue1:document.getElementById("blue-win-1"),SeriesBlue2:document.getElementById("blue-win-2"),SeriesBlue3:document.getElementById("blue-win-3"),SeriesBlue4:document.getElementById("blue-win-4"),SeriesOrange1:document.getElementById("orange-wins-1"),SeriesOrange2:document.getElementById("orange-wins-2"),SeriesOrange3:document.getElementById("orange-wins-3"),SeriesOrange4:document.getElementById("orange-wins-4")};c(0)}}});
